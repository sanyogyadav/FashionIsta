<div class="parent">
    <div class="child" fxLayout="row" fxLayoutAlign="space-evenly center">
        <!-- Add Products -->
        <mat-tab-group dynamicHeight animationDuration="1500ms">
            <mat-tab label="Add Products">
                <form [formGroup]="addition" (ngSubmit)="addProduct()">
                    <div class="add-large-box mat-elevation-z4" fxLayout="column" fxLayoutAlign="space-evenly center">
                        <mat-form-field appearance="outline">
                            <mat-label>Product Type</mat-label>
                            <input type="text" matInput formControlName="ptype">
                            <mat-error>Enter product type</mat-error>
                        </mat-form-field>
                        <mat-form-field appearance="outline">
                            <mat-label>Brand Name</mat-label>
                            <input type="text" matInput formControlName="bname">
                            <mat-error>Enter brand name</mat-error>
                        </mat-form-field>
                        <mat-form-field appearance="outline">
                            <mat-label>Product Description</mat-label>
                            <input type="text" matInput formControlName="pdescription">
                            <mat-error>Enter product description</mat-error>
                        </mat-form-field>
                        <mat-form-field appearance="outline">
                            <mat-label>Product Image Url</mat-label>
                            <input type="text" matInput formControlName="purl">
                            <mat-error>Enter product url</mat-error>
                        </mat-form-field>
                        <mat-form-field appearance="outline">
                            <mat-label>Product Price</mat-label>
                            <input type="number" matInput formControlName="pprice">
                            <mat-error>Enter product price</mat-error>
                        </mat-form-field>
                        <button mat-raised-button color="primary">Add</button>
                    </div>
                </form>
                <p>{{ message }}</p>
            </mat-tab>
            <!-- Edit Products -->
            <mat-tab label="Edit Products">
                <p>{{ message }}</p>
                <div *ngIf="!updateKey">
                    <div class="edit-large-box mat-elevation-z4" fxLayout="row" fxLayoutAlign="center center"
                        *ngFor="let product of products">
                        <mat-card class="example-card">
                            <mat-card-header>
                                <mat-card-title-group>
                                    <mat-card-title>{{ product.product_type }}</mat-card-title>
                                    <mat-card-subtitle>{{ product.brand_name }}</mat-card-subtitle>
                                    <img mat-card-sm-image src="{{ product.image }}">
                                </mat-card-title-group>
                            </mat-card-header>
                            <mat-card-content>
                                <p>
                                    {{ product.description }}
                                </p>
                                <p>
                                    {{ product.price }}
                                </p>
                            </mat-card-content>
                            <mat-card-actions class="buttons">
                                <button mat-button color="primary" (click)="deleteProduct(product._id)">Delete</button>
                                <button mat-button color="accent" (click)="updateProductCheck(product)">Update</button>
                            </mat-card-actions>
                        </mat-card>
                    </div>
                </div>
                <div *ngIf="updateKey">
                    <div class="add-large-box mat-elevation-z4" fxLayout="column" fxLayoutAlign="space-evenly center">
                        <mat-form-field appearance="outline">
                            <mat-label>Product Type</mat-label>
                            <input type="text" #ptype value="{{ productObj.product_type }}" matInput>
                            <mat-error>Enter product type</mat-error>
                        </mat-form-field>
                        <mat-form-field appearance="outline">
                            <mat-label>Brand Name</mat-label>
                            <input type="text" #bname value="{{ productObj.brand_name }}" matInput>
                            <mat-error>Enter brand name</mat-error>
                        </mat-form-field>
                        <mat-form-field appearance="outline">
                            <mat-label>Product Description</mat-label>
                            <input type="text" #pdescription value="{{ productObj.description }}" matInput>
                            <mat-error>Enter product description</mat-error>
                        </mat-form-field>
                        <mat-form-field appearance="outline">
                            <mat-label>Product Image Url</mat-label>
                            <input type="text" #pimage value="{{ productObj.image }}" matInput>
                            <mat-error>Enter product url</mat-error>
                        </mat-form-field>
                        <mat-form-field appearance="outline">
                            <mat-label>Product Price</mat-label>
                            <input type="text" #pprice value="{{ productObj.price }}" matInput>
                            <mat-error>Enter product price</mat-error>
                        </mat-form-field>
                        <button mat-raised-button color="primary"
                            (click)="updateProductSubmit(ptype.value,bname.value,pdescription.value,pimage.value,pprice.value)">Update</button>
                    </div>
                </div>
            </mat-tab>
            <!-- Users -->
            <mat-tab label="Users">
                <p>{{ message }}</p>
                <button class="add_users" mat-raised-button color="primary" (click)="addUserCheck()">Add</button>
                <button class="delete_users" mat-raised-button color="primary"
                    (click)="deleteUserCheck()">Delete</button>
                <div *ngIf="!userKey">
                    <div *ngFor="let user of users" class="deleteuser-large-box mat-elevation-z4" fxLayout="column"
                        fxLayoutAlign="space-evenly center">
                        <mat-card class="user-card">
                                <mat-card-title>Username : {{ user.username }}</mat-card-title>
                                <mat-card-title>Email : {{ user.email }}</mat-card-title>
                            <mat-card-actions class="user-delete-buttons">
                                <button mat-button color="accent" (click)="deleteUser(user._id)">Delete</button>
                            </mat-card-actions>
                        </mat-card>
                    </div>
                </div>
                <div *ngIf="userKey">
                    <form [formGroup]="userAdd" (ngSubmit)="addUser()">
                        <div class="user-large-box mat-elevation-z4" fxLayout="column"
                            fxLayoutAlign="space-evenly center">
                            <mat-card class="example-card">
                                <mat-form-field appearance="outline">
                                    <mat-label>UserName</mat-label>
                                    <input type="text" matInput id="username" formControlName="username">
                                    <mat-error>Enter your username</mat-error>
                                </mat-form-field>
                                <mat-form-field appearance="outline">
                                    <mat-label>Email</mat-label>
                                    <input type="email" matInput id="email" formControlName="email">
                                    <mat-error>Enter your email</mat-error>
                                </mat-form-field>
                                <mat-form-field appearance="outline">
                                    <mat-label>Password</mat-label>
                                    <input type="password" matInput id="pass" formControlName="pass">
                                    <mat-error>Enter your password</mat-error>
                                </mat-form-field>
                                <button mat-raised-button color="primary">Add User</button>
                            </mat-card>
                        </div>
                    </form>
                </div>
            </mat-tab>
        </mat-tab-group>
    </div>
</div>